<!doctype html>
<html>
<head>
    <title>测试demo</title>
</head>
<body>

<div>
    <form></form>
</div>
<div class="list_condition">
    <form>
        <p>用户id: <input type="text" id="fuserId" name="fuserId" /></p>
        <input type="submit" id="submit" value="查询" />
    </form>
    <table id="userListTable" borderColor=”#111111″ cellSpacing=”0″ cellPadding=”2″ border=”1″>
        <tr>
            <thead>
            <td bgcolor="#a9a9a9">用户id</td>
            <td bgcolor="#a9a9a9">用户名</td>
            <td bgcolor="#a9a9a9">用户邮箱</td>
            </thead>
        </tr>
        #foreach($user in $userList)
            <tr>
                <td>$user.userId</td>
                <td>$user.realName</td>
                <td>$user.email</td>
            </tr>
        #end
    </table>

</div>

<script type="text/javascript">
    $(function () {
        $("#submit").click(function () {
            var fuserId = $("#fuserId").val()
            $.post("/getByUserId",fuserId,
                    function (data2) {
                        alert("getByUserId")
                        //填充table
                        completeTable(data2);
                    });
        });
    });

    function completeTable(var userlist) {
        alert("completetable,"+userlist.length)
        var tableContent = "<tr>"
                +"<thead>"
                +"<td bgcolor="#a9a9a9">用户id</td>"
                +"<td bgcolor="#a9a9a9">用户名</td>"
                +"<td bgcolor="#a9a9a9">用户邮箱</td>"
                +"</thead>"
                +"</tr>";

        var len = userlist.length;

        //只显示前十个
        if(len>=10){
            len = 10;
        }

        for(var i=0 ;i<len ; i++){
            tableContent = tableContent + "<tr><td>"+ userlist[i].userId +"</td>"+"<td>"+userlist[i].realName + "</td>"+"<td>"+userlist[i].email +"</td></tr>";
        }

        $("#userListTable").innerHTML = tableContent;

    }
</script>
</body>
</html>
